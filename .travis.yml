language: python

matrix:
    include:
        - os: windows
          language: sh
          python: 3.7
          before_install:
              - choco install python3
              - export PATH="/c/Python37:/c/Python37/Scripts:$PATH"
              - python -m pip install --upgrade pip wheel

        - python: 3.7
          dist: xenial
          sudo: required

install:
    - cd $TRAVIS_BUILD_DIR
    - pip install -U . -r requirements-test.txt

script:
    - mypy tractor/  --ignore-missing-imports
    - pytest tests/ --no-print-logs
